{"ast":null,"code":"import _slicedToArray from\"/home/amin/documents/school/green-it/IFN-app/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState}from\"react\";import{Button,Grid,TextField,Input}from\"@material-ui/core\";import{useDispatch}from\"react-redux\";import{getTownshipByPostalCode}from\"../../API/main\";import{actionSetTownShip}from\"../action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TabPostalCode=function TabPostalCode(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),postalCode=_useState2[0],setPostalCode=_useState2[1];var dispatch=useDispatch();var toggleChange=useCallback(function(e){if(e.target.value.length<=5){setPostalCode(e.target.value);}},[]);var toggleSearch=useCallback(function(){if(postalCode.length===5){getTownshipByPostalCode(postalCode).then(function(townShip){dispatch(actionSetTownShip(townShip));}).catch(function(e){console.error(\"getTownshipByPostalCode\",e);});}},[dispatch,postalCode]);return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:true,justify:\"center\",children:/*#__PURE__*/_jsx(Input,{type:\"number\",placeholder:\"Code Postal\",value:postalCode,onChange:toggleChange,error:postalCode!==\"\"&&postalCode.length!==5,helperText:\"Votre code postal doit contenir 5 chiffres\"})}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:true,justify:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"#226653\",onClick:toggleSearch,children:\"Calculer\"})})]});};export default TabPostalCode;","map":{"version":3,"sources":["/home/amin/documents/school/green-it/IFN-app/front/src/components/SelectTownship/TabPostalCode.js"],"names":["React","useCallback","useState","Button","Grid","TextField","Input","useDispatch","getTownshipByPostalCode","actionSetTownShip","TabPostalCode","postalCode","setPostalCode","dispatch","toggleChange","e","target","value","length","toggleSearch","then","townShip","catch","console","error"],"mappings":"wIAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,QAA7B,KAA6C,OAA7C,CAEA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,SAAvB,CAAkCC,KAAlC,KAA+C,mBAA/C,CAEA,OAASC,WAAT,KAA4B,aAA5B,CAEA,OAASC,uBAAT,KAAwC,gBAAxC,CACA,OAASC,iBAAT,KAAkC,WAAlC,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,cAAoCR,QAAQ,CAAC,EAAD,CAA5C,wCAAOS,UAAP,eAAmBC,aAAnB,eACA,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAMO,CAAAA,YAAY,CAAGb,WAAW,CAAC,SAACc,CAAD,CAAO,CACtC,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,EAAyB,CAA7B,CAAgC,CAC9BN,aAAa,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CACD,CACF,CAJ+B,CAI7B,EAJ6B,CAAhC,CAMA,GAAME,CAAAA,YAAY,CAAGlB,WAAW,CAAC,UAAM,CACrC,GAAIU,UAAU,CAACO,MAAX,GAAsB,CAA1B,CAA6B,CAC3BV,uBAAuB,CAACG,UAAD,CAAvB,CACGS,IADH,CACQ,SAACC,QAAD,CAAc,CAClBR,QAAQ,CAACJ,iBAAiB,CAACY,QAAD,CAAlB,CAAR,CACD,CAHH,EAIGC,KAJH,CAIS,SAACP,CAAD,CAAO,CACZQ,OAAO,CAACC,KAAR,CAAc,yBAAd,CAAyCT,CAAzC,EACD,CANH,EAOD,CACF,CAV+B,CAU7B,CAACF,QAAD,CAAWF,UAAX,CAV6B,CAAhC,CAYA,mBACE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,IAAI,KAApB,CAAqB,EAAE,KAAvB,CAAwB,OAAO,CAAC,QAAhC,uBACE,KAAC,KAAD,EACE,IAAI,CAAC,QADP,CAEE,WAAW,CAAC,aAFd,CAGE,KAAK,CAAEA,UAHT,CAIE,QAAQ,CAAEG,YAJZ,CAKE,KAAK,CAAEH,UAAU,GAAK,EAAf,EAAqBA,UAAU,CAACO,MAAX,GAAsB,CALpD,CAME,UAAU,CAAC,4CANb,EADF,EADF,cAWE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,IAAI,KAApB,CAAqB,EAAE,KAAvB,CAAwB,OAAO,CAAC,QAAhC,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,OAAO,CAAEC,YAArD,sBADF,EAXF,GADF,CAmBD,CAzCD,CA2CA,cAAeT,CAAAA,aAAf","sourcesContent":["import React, { useCallback, useState } from \"react\";\n\nimport { Button, Grid, TextField, Input } from \"@material-ui/core\";\n\nimport { useDispatch } from \"react-redux\";\n\nimport { getTownshipByPostalCode } from \"../../API/main\";\nimport { actionSetTownShip } from \"../action\";\n\nconst TabPostalCode = () => {\n  const [postalCode, setPostalCode] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const toggleChange = useCallback((e) => {\n    if (e.target.value.length <= 5) {\n      setPostalCode(e.target.value);\n    }\n  }, []);\n\n  const toggleSearch = useCallback(() => {\n    if (postalCode.length === 5) {\n      getTownshipByPostalCode(postalCode)\n        .then((townShip) => {\n          dispatch(actionSetTownShip(townShip));\n        })\n        .catch((e) => {\n          console.error(\"getTownshipByPostalCode\", e);\n        });\n    }\n  }, [dispatch, postalCode]);\n\n  return (\n    <Grid container spacing={3}>\n      <Grid container item xs justify=\"center\">\n        <Input\n          type=\"number\"\n          placeholder=\"Code Postal\"\n          value={postalCode}\n          onChange={toggleChange}\n          error={postalCode !== \"\" && postalCode.length !== 5}\n          helperText=\"Votre code postal doit contenir 5 chiffres\"\n        />\n      </Grid>\n      <Grid container item xs justify=\"center\">\n        <Button variant=\"contained\" color=\"#226653\" onClick={toggleSearch}>\n          Calculer\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default TabPostalCode;\n"]},"metadata":{},"sourceType":"module"}